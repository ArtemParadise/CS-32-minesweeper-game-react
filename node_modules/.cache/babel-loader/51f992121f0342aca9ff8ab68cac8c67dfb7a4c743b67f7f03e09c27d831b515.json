{"ast":null,"code":"var _jsxFileName = \"/Users/administrator/Desktop/minesweeper-react/src/components/honcharuk-dmytro/Board.jsx\";\nimport React from \"react\";\nimport Cell from \"./Cell\";\nimport styles from \"./Minesweeper.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Board({\n  field,\n  status,\n  setField,\n  setStatus\n}) {\n  var _field$;\n  const handleLeftClick = (r, c) => {\n    const newField = field.map(row => row.map(cell => ({\n      ...cell\n    })));\n    const cell = newField[r][c];\n    if (cell.state !== \"closed\" || status !== \"running\") return;\n    if (cell.hasMine) {\n      cell.state = \"mine\";\n      setStatus(\"lose\");\n    } else {\n      openCell(newField, r, c);\n      if (checkWin(newField)) setStatus(\"win\");\n    }\n    setField(newField);\n  };\n  const handleRightClick = (r, c, e) => {\n    e.preventDefault();\n    const newField = field.map(row => row.map(cell => ({\n      ...cell\n    })));\n    const cell = newField[r][c];\n    if (cell.state === \"open\") return;\n    cell.state = cell.state === \"flag\" ? \"closed\" : \"flag\";\n    setField(newField);\n  };\n  const openCell = (fld, row, col) => {\n    const cell = fld[row][col];\n    if (cell.state !== \"closed\") return;\n    cell.state = \"open\";\n    if (cell.neighborMines === 0 && !cell.hasMine) {\n      const dirs = [[-1, -1], [-1, 0], [-1, 1], [0, -1], [0, 1], [1, -1], [1, 0], [1, 1]];\n      for (const [dr, dc] of dirs) {\n        const nr = row + dr,\n          nc = col + dc;\n        if (nr >= 0 && nc >= 0 && nr < fld.length && nc < fld[0].length) openCell(fld, nr, nc);\n      }\n    }\n  };\n  const checkWin = fld => fld.flat().every(c => c.hasMine || c.state === \"open\");\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.grid,\n    style: {\n      gridTemplateColumns: `repeat(${((_field$ = field[0]) === null || _field$ === void 0 ? void 0 : _field$.length) || 0}, 32px)`\n    },\n    children: field.map((row, r) => row.map((cell, c) => /*#__PURE__*/_jsxDEV(Cell, {\n      cell: cell,\n      onLeftClick: () => handleLeftClick(r, c),\n      onRightClick: e => handleRightClick(r, c, e)\n    }, `${r}-${c}`, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }, this)))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n}\n_c = Board;\nvar _c;\n$RefreshReg$(_c, \"Board\");","map":{"version":3,"names":["React","Cell","styles","jsxDEV","_jsxDEV","Board","field","status","setField","setStatus","_field$","handleLeftClick","r","c","newField","map","row","cell","state","hasMine","openCell","checkWin","handleRightClick","e","preventDefault","fld","col","neighborMines","dirs","dr","dc","nr","nc","length","flat","every","className","grid","style","gridTemplateColumns","children","onLeftClick","onRightClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/administrator/Desktop/minesweeper-react/src/components/honcharuk-dmytro/Board.jsx"],"sourcesContent":["import React from \"react\";\nimport Cell from \"./Cell\";\nimport styles from \"./Minesweeper.module.css\";\n\nexport default function Board({ field, status, setField, setStatus }) {\n  const handleLeftClick = (r, c) => {\n    const newField = field.map(row => row.map(cell => ({ ...cell })));\n    const cell = newField[r][c];\n    if (cell.state !== \"closed\" || status !== \"running\") return;\n\n    if (cell.hasMine) {\n      cell.state = \"mine\";\n      setStatus(\"lose\");\n    } else {\n      openCell(newField, r, c);\n      if (checkWin(newField)) setStatus(\"win\");\n    }\n    setField(newField);\n  };\n\n  const handleRightClick = (r, c, e) => {\n    e.preventDefault();\n    const newField = field.map(row => row.map(cell => ({ ...cell })));\n    const cell = newField[r][c];\n    if (cell.state === \"open\") return;\n    cell.state = cell.state === \"flag\" ? \"closed\" : \"flag\";\n    setField(newField);\n  };\n\n  const openCell = (fld, row, col) => {\n    const cell = fld[row][col];\n    if (cell.state !== \"closed\") return;\n    cell.state = \"open\";\n    if (cell.neighborMines === 0 && !cell.hasMine) {\n      const dirs = [\n        [-1, -1], [-1, 0], [-1, 1],\n        [0, -1], [0, 1],\n        [1, -1], [1, 0], [1, 1],\n      ];\n      for (const [dr, dc] of dirs) {\n        const nr = row + dr, nc = col + dc;\n        if (nr >= 0 && nc >= 0 && nr < fld.length && nc < fld[0].length)\n          openCell(fld, nr, nc);\n      }\n    }\n  };\n\n  const checkWin = (fld) =>\n    fld.flat().every(c => c.hasMine || c.state === \"open\");\n\n  return (\n    <div\n      className={styles.grid}\n      style={{\n        gridTemplateColumns: `repeat(${field[0]?.length || 0}, 32px)`\n      }}\n    >\n      {field.map((row, r) =>\n        row.map((cell, c) => (\n          <Cell\n            key={`${r}-${c}`}\n            cell={cell}\n            onLeftClick={() => handleLeftClick(r, c)}\n            onRightClick={(e) => handleRightClick(r, c, e)}\n          />\n        ))\n      )}\n    </div>\n  );\n}\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,IAAI,MAAM,QAAQ;AACzB,OAAOC,MAAM,MAAM,0BAA0B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9C,eAAe,SAASC,KAAKA,CAAC;EAAEC,KAAK;EAAEC,MAAM;EAAEC,QAAQ;EAAEC;AAAU,CAAC,EAAE;EAAA,IAAAC,OAAA;EACpE,MAAMC,eAAe,GAAGA,CAACC,CAAC,EAAEC,CAAC,KAAK;IAChC,MAAMC,QAAQ,GAAGR,KAAK,CAACS,GAAG,CAACC,GAAG,IAAIA,GAAG,CAACD,GAAG,CAACE,IAAI,KAAK;MAAE,GAAGA;IAAK,CAAC,CAAC,CAAC,CAAC;IACjE,MAAMA,IAAI,GAAGH,QAAQ,CAACF,CAAC,CAAC,CAACC,CAAC,CAAC;IAC3B,IAAII,IAAI,CAACC,KAAK,KAAK,QAAQ,IAAIX,MAAM,KAAK,SAAS,EAAE;IAErD,IAAIU,IAAI,CAACE,OAAO,EAAE;MAChBF,IAAI,CAACC,KAAK,GAAG,MAAM;MACnBT,SAAS,CAAC,MAAM,CAAC;IACnB,CAAC,MAAM;MACLW,QAAQ,CAACN,QAAQ,EAAEF,CAAC,EAAEC,CAAC,CAAC;MACxB,IAAIQ,QAAQ,CAACP,QAAQ,CAAC,EAAEL,SAAS,CAAC,KAAK,CAAC;IAC1C;IACAD,QAAQ,CAACM,QAAQ,CAAC;EACpB,CAAC;EAED,MAAMQ,gBAAgB,GAAGA,CAACV,CAAC,EAAEC,CAAC,EAAEU,CAAC,KAAK;IACpCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,MAAMV,QAAQ,GAAGR,KAAK,CAACS,GAAG,CAACC,GAAG,IAAIA,GAAG,CAACD,GAAG,CAACE,IAAI,KAAK;MAAE,GAAGA;IAAK,CAAC,CAAC,CAAC,CAAC;IACjE,MAAMA,IAAI,GAAGH,QAAQ,CAACF,CAAC,CAAC,CAACC,CAAC,CAAC;IAC3B,IAAII,IAAI,CAACC,KAAK,KAAK,MAAM,EAAE;IAC3BD,IAAI,CAACC,KAAK,GAAGD,IAAI,CAACC,KAAK,KAAK,MAAM,GAAG,QAAQ,GAAG,MAAM;IACtDV,QAAQ,CAACM,QAAQ,CAAC;EACpB,CAAC;EAED,MAAMM,QAAQ,GAAGA,CAACK,GAAG,EAAET,GAAG,EAAEU,GAAG,KAAK;IAClC,MAAMT,IAAI,GAAGQ,GAAG,CAACT,GAAG,CAAC,CAACU,GAAG,CAAC;IAC1B,IAAIT,IAAI,CAACC,KAAK,KAAK,QAAQ,EAAE;IAC7BD,IAAI,CAACC,KAAK,GAAG,MAAM;IACnB,IAAID,IAAI,CAACU,aAAa,KAAK,CAAC,IAAI,CAACV,IAAI,CAACE,OAAO,EAAE;MAC7C,MAAMS,IAAI,GAAG,CACX,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAC1B,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EACf,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CACxB;MACD,KAAK,MAAM,CAACC,EAAE,EAAEC,EAAE,CAAC,IAAIF,IAAI,EAAE;QAC3B,MAAMG,EAAE,GAAGf,GAAG,GAAGa,EAAE;UAAEG,EAAE,GAAGN,GAAG,GAAGI,EAAE;QAClC,IAAIC,EAAE,IAAI,CAAC,IAAIC,EAAE,IAAI,CAAC,IAAID,EAAE,GAAGN,GAAG,CAACQ,MAAM,IAAID,EAAE,GAAGP,GAAG,CAAC,CAAC,CAAC,CAACQ,MAAM,EAC7Db,QAAQ,CAACK,GAAG,EAAEM,EAAE,EAAEC,EAAE,CAAC;MACzB;IACF;EACF,CAAC;EAED,MAAMX,QAAQ,GAAII,GAAG,IACnBA,GAAG,CAACS,IAAI,CAAC,CAAC,CAACC,KAAK,CAACtB,CAAC,IAAIA,CAAC,CAACM,OAAO,IAAIN,CAAC,CAACK,KAAK,KAAK,MAAM,CAAC;EAExD,oBACEd,OAAA;IACEgC,SAAS,EAAElC,MAAM,CAACmC,IAAK;IACvBC,KAAK,EAAE;MACLC,mBAAmB,EAAE,UAAU,EAAA7B,OAAA,GAAAJ,KAAK,CAAC,CAAC,CAAC,cAAAI,OAAA,uBAARA,OAAA,CAAUuB,MAAM,KAAI,CAAC;IACtD,CAAE;IAAAO,QAAA,EAEDlC,KAAK,CAACS,GAAG,CAAC,CAACC,GAAG,EAAEJ,CAAC,KAChBI,GAAG,CAACD,GAAG,CAAC,CAACE,IAAI,EAAEJ,CAAC,kBACdT,OAAA,CAACH,IAAI;MAEHgB,IAAI,EAAEA,IAAK;MACXwB,WAAW,EAAEA,CAAA,KAAM9B,eAAe,CAACC,CAAC,EAAEC,CAAC,CAAE;MACzC6B,YAAY,EAAGnB,CAAC,IAAKD,gBAAgB,CAACV,CAAC,EAAEC,CAAC,EAAEU,CAAC;IAAE,GAH1C,GAAGX,CAAC,IAAIC,CAAC,EAAE;MAAA8B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAIjB,CACF,CACH;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV;AAACC,EAAA,GAjEuB1C,KAAK;AAAA,IAAA0C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}