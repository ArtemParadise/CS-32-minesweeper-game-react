{"ast":null,"code":"var _jsxFileName = \"/Users/administrator/Desktop/minesweeper-react/src/components/honcharuk-dmytro/Minesweeper.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport Board from \"./Board\";\nimport Timer from \"./Timer\";\nimport GameStatus from \"./GameStatus\";\nimport RestartButton from \"./RestartButton\";\nimport styles from \"./Minesweeper.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CellState = {\n  CLOSED: \"closed\",\n  OPEN: \"open\",\n  FLAG: \"flag\",\n  MINE: \"mine\"\n};\nconst Status = {\n  RUNNING: \"running\",\n  WIN: \"win\",\n  LOSE: \"lose\"\n};\nfunction makeCell(hasMine = false) {\n  return {\n    hasMine,\n    neighborMines: 0,\n    state: CellState.CLOSED\n  };\n}\nfunction generateField(rows, cols, mines) {\n  const field = Array.from({\n    length: rows\n  }, () => Array.from({\n    length: cols\n  }, () => makeCell(false)));\n  // розміщення мін\n  let placed = 0;\n  while (placed < mines) {\n    const r = Math.floor(Math.random() * rows);\n    const c = Math.floor(Math.random() * cols);\n    if (!field[r][c].hasMine) {\n      field[r][c].hasMine = true;\n      placed++;\n    }\n  }\n  // підрахунок сусідів\n  const dirs = [[-1, -1], [-1, 0], [-1, 1], [0, -1], [0, 1], [1, -1], [1, 0], [1, 1]];\n  for (let r = 0; r < rows; r++) {\n    for (let c = 0; c < cols; c++) {\n      let count = 0;\n      for (const [dr, dc] of dirs) {\n        const nr = r + dr,\n          nc = c + dc;\n        if (nr >= 0 && nc >= 0 && nr < rows && nc < cols && field[nr][nc].hasMine) count++;\n      }\n      field[r][c].neighborMines = count;\n    }\n  }\n  return field;\n}\nexport default function Minesweeper() {\n  _s();\n  const [field, setField] = useState([]);\n  const [status, setStatus] = useState(Status.RUNNING);\n  const [seconds, setSeconds] = useState(0);\n  const [rows] = useState(8);\n  const [cols] = useState(8);\n  const [mines] = useState(10);\n\n  // створення нового поля\n  const newGame = () => {\n    setField(generateField(rows, cols, mines));\n    setStatus(Status.RUNNING);\n    setSeconds(0);\n  };\n  useEffect(() => {\n    newGame();\n  }, []);\n\n  // таймер\n  useEffect(() => {\n    if (status !== Status.RUNNING) return;\n    const timer = setInterval(() => setSeconds(s => s + 1), 1000);\n    return () => clearInterval(timer);\n  }, [status]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.app,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.bar,\n      children: [/*#__PURE__*/_jsxDEV(Timer, {\n        seconds: seconds\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(GameStatus, {\n        status: status\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(RestartButton, {\n        onClick: newGame\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Board, {\n      field: field,\n      status: status,\n      setField: setField,\n      setStatus: setStatus\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 5\n  }, this);\n}\n_s(Minesweeper, \"j0X+NqROVvM5tZY2JgV4CehD+Vs=\");\n_c = Minesweeper;\nvar _c;\n$RefreshReg$(_c, \"Minesweeper\");","map":{"version":3,"names":["React","useState","useEffect","Board","Timer","GameStatus","RestartButton","styles","jsxDEV","_jsxDEV","CellState","CLOSED","OPEN","FLAG","MINE","Status","RUNNING","WIN","LOSE","makeCell","hasMine","neighborMines","state","generateField","rows","cols","mines","field","Array","from","length","placed","r","Math","floor","random","c","dirs","count","dr","dc","nr","nc","Minesweeper","_s","setField","status","setStatus","seconds","setSeconds","newGame","timer","setInterval","s","clearInterval","className","app","children","bar","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["/Users/administrator/Desktop/minesweeper-react/src/components/honcharuk-dmytro/Minesweeper.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Board from \"./Board\";\nimport Timer from \"./Timer\";\nimport GameStatus from \"./GameStatus\";\nimport RestartButton from \"./RestartButton\";\nimport styles from \"./Minesweeper.module.css\";\n\nconst CellState = {\n  CLOSED: \"closed\",\n  OPEN: \"open\",\n  FLAG: \"flag\",\n  MINE: \"mine\",\n};\nconst Status = { RUNNING: \"running\", WIN: \"win\", LOSE: \"lose\" };\n\nfunction makeCell(hasMine = false) {\n  return { hasMine, neighborMines: 0, state: CellState.CLOSED };\n}\n\nfunction generateField(rows, cols, mines) {\n  const field = Array.from({ length: rows }, () =>\n    Array.from({ length: cols }, () => makeCell(false))\n  );\n  // розміщення мін\n  let placed = 0;\n  while (placed < mines) {\n    const r = Math.floor(Math.random() * rows);\n    const c = Math.floor(Math.random() * cols);\n    if (!field[r][c].hasMine) {\n      field[r][c].hasMine = true;\n      placed++;\n    }\n  }\n  // підрахунок сусідів\n  const dirs = [\n    [-1, -1], [-1, 0], [-1, 1],\n    [0, -1], [0, 1],\n    [1, -1], [1, 0], [1, 1],\n  ];\n  for (let r = 0; r < rows; r++) {\n    for (let c = 0; c < cols; c++) {\n      let count = 0;\n      for (const [dr, dc] of dirs) {\n        const nr = r + dr, nc = c + dc;\n        if (nr >= 0 && nc >= 0 && nr < rows && nc < cols && field[nr][nc].hasMine)\n          count++;\n      }\n      field[r][c].neighborMines = count;\n    }\n  }\n  return field;\n}\n\nexport default function Minesweeper() {\n  const [field, setField] = useState([]);\n  const [status, setStatus] = useState(Status.RUNNING);\n  const [seconds, setSeconds] = useState(0);\n  const [rows] = useState(8);\n  const [cols] = useState(8);\n  const [mines] = useState(10);\n\n  // створення нового поля\n  const newGame = () => {\n    setField(generateField(rows, cols, mines));\n    setStatus(Status.RUNNING);\n    setSeconds(0);\n  };\n\n  useEffect(() => { newGame(); }, []);\n\n  // таймер\n  useEffect(() => {\n    if (status !== Status.RUNNING) return;\n    const timer = setInterval(() => setSeconds((s) => s + 1), 1000);\n    return () => clearInterval(timer);\n  }, [status]);\n\n  return (\n    <div className={styles.app}>\n      <div className={styles.bar}>\n        <Timer seconds={seconds} />\n        <GameStatus status={status} />\n        <RestartButton onClick={newGame} />\n      </div>\n      <Board\n        field={field}\n        status={status}\n        setField={setField}\n        setStatus={setStatus}\n      />\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}